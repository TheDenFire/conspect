
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../3.%20Creational%20patterns/">
      
      
        <link rel="next" href="../5.%20Behavioral%20patterns/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.3">
    
    
      
        <title>4. Structural Patterns - Богданунины конспекты</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adapter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Богданунины конспекты" class="md-header__button md-logo" aria-label="Богданунины конспекты" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Богданунины конспекты
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4. Structural Patterns
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Богданунины конспекты" class="md-nav__button md-logo" aria-label="Богданунины конспекты" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Богданунины конспекты
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Topic without name
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Object Oriented Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Object Oriented Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20About%20OOP%20and%20three%20principe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. About OOP and three principe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.%20GRASP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. GRASP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.%20Creational%20patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Creational patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4. Structural Patterns
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4. Structural Patterns
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter" class="md-nav__link">
    <span class="md-ellipsis">
      Adapter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bridge" class="md-nav__link">
    <span class="md-ellipsis">
      Bridge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composite" class="md-nav__link">
    <span class="md-ellipsis">
      Composite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#facade" class="md-nav__link">
    <span class="md-ellipsis">
      Facade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flyweight" class="md-nav__link">
    <span class="md-ellipsis">
      Flyweight
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Proxy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proxy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decorator-vs-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator vs Proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5.%20Behavioral%20patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Behavioral patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.%20Layered%20architectures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Layered architectures
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operation System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Operation System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Operation%20System/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Операционные системы
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Theory Probability
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Theory Probability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Theory%20Probability/%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F%20%D0%B2%D0%B5%D1%80%D0%BE%D1%8F%D1%82%D0%BD%D0%BE%D1%81%D1%82%D0%B8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Теория вероятности
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter" class="md-nav__link">
    <span class="md-ellipsis">
      Adapter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bridge" class="md-nav__link">
    <span class="md-ellipsis">
      Bridge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composite" class="md-nav__link">
    <span class="md-ellipsis">
      Composite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#facade" class="md-nav__link">
    <span class="md-ellipsis">
      Facade
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flyweight" class="md-nav__link">
    <span class="md-ellipsis">
      Flyweight
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Proxy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Proxy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decorator-vs-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator vs Proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>4. Structural Patterns</h1>

<p><a href="../2.%20GRASP/">2. GRASP</a>
<a href="../3.%20Creational%20patterns/">3. Creational patterns</a></p>
<h2 id="adapter"><strong>Adapter</strong><a class="headerlink" href="#adapter" title="Permanent link">&para;</a></h2>
<p>По своей сути паттерн Адаптер очень прост. Его реализация заключается в создании обертки на обьектом, имплементирубщей нужный интерфейс. Имлементация етодов интерфейса, соответственно, должна выглядеть как преобразование аргументов и вызов методов у оборачиваемого обьекта. 
    Target - целевой интерфейс, который имплементирует класс обертка
    Adaptee - оборачиваемый обьект
    Adapter - обьект-обертка</p>
<p>Паттерн Адаптер можно использовать как опсредника для достижения полиморфизма между типами не находящимися в одной иерархии. Он является склейкой между обьектами имеющими различные интерфейсы. 
Применение адаптера может быть полезно в ситуациях, когда код обьединяемых типов не может быть изменен, либо когда его изменения несут за собой сольные риски. 
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">SqlServerLogSaver</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Save</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">DateTime</span><span class="w"> </span><span class="n">timeStamp</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">severity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ElasticLogSaver</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Save</span><span class="p">(</span><span class="n">ElasticLogMessage</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ILogSaver</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">Save</span><span class="p">(</span><span class="n">LogEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="n">SqlServerLogSaverAdapter</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ILogSaver</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">SqlServerLogSaver</span><span class="w"> </span><span class="n">_saver</span><span class="p">;</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Save</span><span class="p">(</span><span class="n">LogEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_saver</span><span class="p">.</span><span class="n">Save</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="n">DateTime</span><span class="p">,</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="n">Severity</span><span class="p">.</span><span class="n">AsInteger</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="n">ElasticLogSaverAdapter</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ILogSaver</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">ElasticLogSaver</span><span class="w"> </span><span class="n">_saver</span><span class="p">;</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Save</span><span class="p">(</span><span class="n">LogEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_saver</span><span class="p">.</span><span class="n">Save</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">AsElasticLogMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
Паттерн адаптер может быть использован для локализации рефакторинга. Предположим вы проводите рефакторинг кода, который требует изменение интерфейса используемых обьектов (добавление асинхронности в нашу систему логирования). На первый взгляд, это приведет к тому, что придется изменять как код, используюзий старые интерфейсы (на использование новых), так и код, реализующий старые интерфейсы (на реализацию новых). 
Изменения можно локализовать путем добавления адаптера, из старого интерфейса в новый, соответственно рефакторинг можно разбить на два шага, изменение использований, изменение реализаций, после которых добавленные адаптеры можно будет удалить за ненадобностью. </p>
<h2 id="bridge">Bridge<a class="headerlink" href="#bridge" title="Permanent link">&para;</a></h2>
<p>Суть паттерна мост заключается в введении в систему абстракций более высокого уровня, реализации которых работают со сложными абстракциями более низкого уровня. 
Использование паттерна помогает абстрогировать клиентский код от сложности абстракций используемых для достижения реализации требуемой логики. 
В целом паттерн мост является указанием хорошего тона к проектированию интерфейсов для приложения. Его использование удостоверяет инкапсуляцию логики в отдельных модулях и на клиентский код не ложится ответственность за реализацию логики, которую он не должен нести. Форсит SRP
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ITelevision</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">Volume</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">Channel</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">IRemote</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">IncreaseVolume</span><span class="p">();</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">DecreaseVolume</span><span class="p">();</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">NextChannel</span><span class="p">();</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">PreviousChannel</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Remote</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IRemote</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">ITelevision</span><span class="w"> </span><span class="n">_tv</span><span class="p">;</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">_step</span><span class="p">;</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="nf">Remote</span><span class="p">(</span><span class="n">ITelevision</span><span class="w"> </span><span class="n">tv</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">step</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">ArgumentNullException</span><span class="p">.</span><span class="n">ThrowIfNull</span><span class="p">(</span><span class="n">tv</span><span class="p">);</span>

<span class="w">                </span><span class="n">_tv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tv</span><span class="p">;</span>
<span class="w">                </span><span class="n">_step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValidateStep</span><span class="p">(</span><span class="n">step</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">IncreaseVolume</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_tv</span><span class="p">.</span><span class="n">Volume</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">step</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">DecreaseVolume</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_tv</span><span class="p">.</span><span class="n">Volume</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">step</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">NextChannel</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_tv</span><span class="p">.</span><span class="n">Channel</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">PreviousChannel</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_tv</span><span class="p">.</span><span class="n">Channel</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">ValidateStep</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="k">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="composite"><strong>Composite</strong><a class="headerlink" href="#composite" title="Permanent link">&para;</a></h2>
<p>Паттерн компоновщик позволяет работать с древовидной структурой обьектов как с одним обьектом. 
Паттерн стоит использовать когда проектируемая модель представляется в виде древовидной / иерархической структуры. </p>
<p>Для реализации паттерна нужен базовый интерфейс для компонентов дерева компоновщика. В структуре компоновщика существует два вида узлов: терминальные и агрегаты. При чем оба вида могут быть представлены различными типами. 
Обычно паттерн компоновщик реализуется вместе с паттерном Visitor, для отделения логики обработки компонентов от самих компонентов. Такой подход позволяет добавлять различное поведение над одной композицией обьектов. </p>
<p>Компоненты так же могут иметь свое поведение опять же зависит от юзкейса, но в основном компоненты содержат логику стейт менеджмента и логику диспатча вызова в визитор. </p>
<h2 id="decorator"><strong>Decorator</strong><a class="headerlink" href="#decorator" title="Permanent link">&para;</a></h2>
<p>По своей сути декоратор - способ. расширять поведения типа через композицию (агрегацию), а не наследование. 
Декоратор и оборачиваемый обьект должны реализовывать один интерфейс. Декоратор расширяет логику, выполняемую оборачиваемым обьектом, соответственно декоратор всегда должен вызывать соответствующие поведения оборачиваемого обьекта. Декоратор не изменяет реализуемый интерфейс, он лишь расширяет реализацию поведения. 
Декоратор используется тогда, когда нужно добавить что-то к поведениям существующего обьекта, прозрачно для пользовательского кода
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">IService</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">DoStuff</span><span class="p">(</span><span class="n">DoStuffArgs</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Service</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IService</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">DoStuff</span><span class="p">(</span><span class="n">DoStuffArgs</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>


<span class="c1">// Простой инфраструктурный интерфейс для примера добавления логики над сервисом</span>
<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ILogger</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">Log</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">LoggingServcieDecorator</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IService</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">IService</span><span class="w"> </span><span class="n">_decoratee</span><span class="p">;</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">ILogger</span><span class="w"> </span><span class="n">_logger</span><span class="p">;</span>

<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">DoStuff</span><span class="p">(</span><span class="n">DoStuffArgs</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">_logger</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">ArgsToLogMessage</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>

<span class="w">                </span><span class="n">_decoratee</span><span class="p">.</span><span class="n">DoStuff</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">ArgsToLogMessage</span><span class="p">(</span><span class="n">DoStuffArgs</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="facade"><strong>Facade</strong><a class="headerlink" href="#facade" title="Permanent link">&para;</a></h2>
<p>В общем фасадом называют простую абстракцию над сложной логикой. Фасады обычно представляются в системах в виде сервисов, которые инкапсулируют сложную логику и могут использовать другие сервисы и модули в ее реализации. Интерфейсы фасадов содержат методы, для различных юзкейсов системы.
Фасады используются для абстракции клиентского кода от сложных деталей реализации, разделения системы на слои, используя фасады как входные точки в конкретный слой. 
Данный паттерн имеет схожесть с паттерном Посредник и паттерном Indirect из GRASP</p>
<p>Использование фасадов может повлечь создания класса-бога в системе, т.е. класса, зависимого от всех типов системы. Это приводит к нарушению SRP, сильной связанности, проблемам с рефакторингом и расширяемостью. Обширные фасады приводят к появлению приватной логики шареной между методами фасада, вместо инкапсуляции её в каких-либо абстракциях, которые позволят её переиспользовать в других модулях, это приводит к проблемам при декомпозиции фасадов.</p>
<p>При проектировании фасадов, стоит минимизировать скоуп их ответственности, в идеале, использование паттера фасад должно приходить к request-response модели, таким образом каждый фасад ответственен за один юзкейс слоя. Такой подход форсит разработчиков инкапсулировать шареную логику в соответсвующих абстракциях, которые можно будет переиспользовать в других фасадах и модулях.</p>
<h2 id="flyweight"><strong>Flyweight</strong><a class="headerlink" href="#flyweight" title="Permanent link">&para;</a></h2>
<p>Паттерн <strong>Легковес</strong> это способ проектирования типов, с рассчётом на оптимизацию использования памяти. Смысл паттерна <strong>Легковес</strong> заключается выделении из часто используемых объектов общих неизменяемых частей, обычно занимающих большие объемы памяти, в другой тип, объекты которого будут агрегированы изначальными объектами.</p>
<p>При таком подходе, убирается дупликация данных в памяти, так как объекты будут ссылаться на общие данные.</p>
<p>Смысл нейминга заключается в том, что конечные объекты, те что будут многочисленны, будут легковесны, т.е. будут держать только ссылку на данные большого размера.</p>
<h2 id="proxy"><strong>Proxy</strong><a class="headerlink" href="#proxy" title="Permanent link">&para;</a></h2>
<p>Паттерн Заместитель - способ контролировать то, как клиентский код взаимодействует с объектом, не внося эту логику в сам объект.</p>
<p>Есть различные виды типов заместителей:</p>
<ul>
<li>Виртуальный заместитель Инкапсулирует в себе отложенную инициализацию оборачиваемого объекта.</li>
<li>Защищающий заместитель Инкапсулирует логику доступа клиентского кода к объекту. Такие заместители могут получать информацию о пользователе, основываясь на которой, определяют - давать доступ к выполнению операций или нет.</li>
<li>Кеширующий заместитель Добавляет логику кеширования результатов выполнения операций оборачиваемым объектом.</li>
<li>Удалённый заместитель Используется для перенаправления вызовов на удалённые ресурсы (remoting, RPC, итд).</li>
</ul>
<h3 id="decorator-vs-proxy"><strong>Decorator vs Proxy</strong><a class="headerlink" href="#decorator-vs-proxy" title="Permanent link">&para;</a></h3>
<p>Основополагающим принципом паттерна <strong>Заместитель</strong> является композиция. Этим он имеет схожесть с паттерном <strong>Декоратор</strong>, чем зачастую путает людей, соответсвенно многие не знают различия между ними. Несмотря на общую основу - композицию, реализация паттернов довольно сильно отличается.</p>
<ul>
<li>Виды композиции Так как Заместитель может управлять оборачиваемым объектом, то в рамках его реализации допускается использование как агрегации, так и ассоциации. Декоратор же, не подразумевает какой-либо контроль над оборачиваемым объектом, соответсвенно при его реализации всегда используется агрегация.</li>
<li>Extended Dispatch vs Controlled Dispatch Заместитель может управлять тем, как вызовы переадресуются оборачиваемому объекту, он может блокировать их, заменять вызов возвратом кешированных данных. При реализации декоратора, мы можем лишь добавлять новые поведения к уже существущим, тем что реализует оборачиваемый объект. Декораторы не должны ни в какой форме блокировать вызовы поведений у оборачиваемых объектов.</li>
<li>Наличие оборачиваемого объекта Удалённый заместитель может не хранить объект реализующий замещаемый интерфейс, он “замещает” объект с таким интерфейсом, передавая реализацию каким-либо удалённым ресурсам. Декораторы всегда должны иметь оборачиваемый объект.</li>
</ul>
<p>Подводя итог сравнения. Декоратор это про расширения логики без изменения существующей. Заместитель же, больше про контроль над оборачиваемым объектом, удалённое выполнение как одна из вариаций использования (на самом деле самая популярная вариация)</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>